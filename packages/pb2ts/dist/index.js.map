{"version":3,"sources":["../node_modules/tsup/assets/esm_shims.js","../src/config/defineConfig.ts","../src/parser/runParser.ts","../src/generator/service.ts","../src/generator/index.ts"],"sourcesContent":["// Shim globals in esm bundle\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\n\nconst getFilename = () => fileURLToPath(import.meta.url)\nconst getDirname = () => path.dirname(getFilename())\n\nexport const __dirname = /* @__PURE__ */ getDirname()\nexport const __filename = /* @__PURE__ */ getFilename()\n","import {Pb2tsConfig} from \"./types\";\r\nexport function defineConfig(config: Pb2tsConfig) {\r\n    return config\r\n}","import { spawn } from 'child_process'\nimport path from 'path'\nimport fs from 'fs'\nimport type { ParseResult } from './types'\nimport type {Pb2tsConfig} from \"../config/types\";\n\nexport async function runParser(config: Pb2tsConfig): Promise<ParseResult> {\n    const packageRoot = path.resolve(__dirname, '..', '..')\n\n    const possiblePaths = [\n        path.resolve(packageRoot, 'bin/pb2ts-parser.exe'),\n        path.resolve(packageRoot, 'bin/pb2ts-parser'),\n        path.resolve(packageRoot, '../../bin/pb2ts-parser.exe'),\n        path.resolve(packageRoot, '../../bin/pb2ts-parser'),\n        path.resolve(process.cwd(), 'bin/pb2ts-parser.exe'),\n        path.resolve(process.cwd(), 'bin/pb2ts-parser'),\n        'pb2ts-parser',\n    ]\n\n    let binPath = ''\n    for (const p of possiblePaths) {\n        if (p === 'pb2ts-parser') {\n            binPath = p\n            break\n        }\n        if (fs.existsSync(p)) {\n            binPath = p\n            break\n        }\n    }\n\n    if (!binPath) {\n        throw new Error('Could not find pb2ts-parser binary')\n    }\n\n    const args = ['--proto', config.proto.root]\n    if (config.proto.include.length > 0) {\n        args.push('--imports', config.proto.include.join(','))\n    }\n\n    if (config.proto.exclude.length > 0) {\n        args.push('--exclude', config.proto.exclude.join(','))\n    }\n\n    return new Promise((resolve, reject) => {\n        const child = spawn(binPath, args)\n\n        let stdout = ''\n        let stderr = ''\n\n        child.stdout.on('data', (data) => {\n            stdout += data.toString()\n        })\n\n        child.stderr.on('data', (data) => {\n            stderr += data.toString()\n        })\n\n        child.on('close', (code) => {\n            if (code !== 0) {\n                reject(new Error(`Parser exited with code ${code}: ${stderr}`))\n                return\n            }\n\n            try {\n                const result = JSON.parse(stdout) as ParseResult\n                resolve(result)\n            } catch (err) {\n                reject(new Error(`Failed to parse JSON output: ${err}\\nOutput: ${stdout}`))\n            }\n        })\n\n        child.on('error', (err) => {\n            reject(err)\n        })\n    })\n}\n","import type { Service,ParseResult,Enum,Message,Field,RPC } from '../parser/types'\r\nimport type { Pb2tsConfig } from '../config/types'\r\nimport path from 'path'\r\nimport fs from 'fs'\r\n\r\n// 通用的驼峰转换函数\r\nfunction toCamelCase(str: string): string {\r\n    return str.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\r\n}\r\n\r\n// 通用的注释格式化函数\r\nfunction formatComment(comment: string, indent: number = 0): string {\r\n    const indentStr = ' '.repeat(indent);\r\n    const lines = comment.trim().split('\\n');\r\n\r\n    if (lines.length === 1) {\r\n        return `${indentStr}/** ${lines[0]} */`;\r\n    }\r\n\r\n    return [\r\n        `${indentStr}/**`,\r\n        ...lines.map(line => `${indentStr} * ${line}`),\r\n        `${indentStr} */`\r\n    ].join('\\n');\r\n}\r\n\r\n// 通用的头部注释生成函数\r\nfunction generateHeader(): string {\r\n    return `/**\r\n * ⚠️ AUTO-GENERATED CODE - DO NOT EDIT\r\n * \r\n * This file is automatically generated from Protocol Buffer definitions.\r\n * Any manual changes will be overwritten on the next generation.\r\n * \r\n * Generated at: ${new Date().toISOString()}\r\n */`;\r\n}\r\n\r\n// 通用的文件写入函数\r\nfunction writeFile(filePath: string, content: string): void {\r\n    fs.writeFileSync(filePath, content, 'utf-8');\r\n    console.log(`✅ Generated: ${filePath}`);\r\n}\r\n\r\n// 通用的目录创建函数\r\nfunction ensureDir(dir: string): void {\r\n    if (!fs.existsSync(dir)) {\r\n        fs.mkdirSync(dir, { recursive: true });\r\n    }\r\n}\r\n\r\n// ===== 核心生成器类 =====\r\nexport class ProtoToTsGenerator {\r\n    private config: Pb2tsConfig;\r\n    private generateServiceContent: (service: Service) => string;\r\n\r\n    constructor(config: Pb2tsConfig) {\r\n        this.config = config;\r\n        \r\n        // 根据配置预先生成对应的服务内容生成函数\r\n        if (config.output.generationType === 'function') {\r\n            this.generateServiceContent = (service: Service): string => {\r\n                const parts: string[] = [];\r\n                for (const rpc of service.rpc) {\r\n                    let templateFn = this.config.output.functionTemplate!.functionWrapper!;\r\n                    if (this.config.output.funcCalls && this.config.output.funcCalls[rpc.name]) {\r\n                        templateFn =  this.config.output.funcCalls![rpc.name];\r\n                    }\r\n                    parts.push(templateFn(rpc));\r\n                    parts.push('');\r\n                }\r\n                return parts.join('');\r\n            };\r\n        } else {\r\n            this.generateServiceContent = (service: Service): string => {\r\n                // 获取方法代码\r\n                const methodsCode = service.rpc.map(rpc => {\r\n                   const templateFn = this.config.output.serviceTemplate!.methodWrapper!;\r\n                   if (this.config.output.funcCalls && this.config.output.funcCalls[rpc.name]) {\r\n                       return this.config.output.funcCalls![rpc.name](rpc);\r\n                   }\r\n                   return templateFn(rpc);\r\n                }).join('\\n\\n');\r\n                \r\n                // 使用配置中的模板函数（在loadConfig阶段已确保存在）\r\n                const templateFn = this.config.output.serviceTemplate!.classWrapper!;\r\n                return templateFn(service.name, methodsCode);\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 生成所有服务的代码\r\n     */\r\n    generate(services: ParseResult): void {\r\n        for (const service of services) {\r\n            console.log(`Generating ${service.name}...`);\r\n            if (service.rpc.length === 0) {\r\n                console.log(`${service.name} has no RPC methods, skipping...`);\r\n                continue;\r\n            }\r\n            this.generateService(service);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 为单个服务生成代码\r\n     */\r\n    private generateService(service: Service): void {\r\n        const outputDir = path.join(this.config.output.dir, 'generated');\r\n        const serviceDir = path.join(outputDir, service.name);\r\n\r\n        // 确保目录存在\r\n        ensureDir(serviceDir);\r\n\r\n        // 1. 生成 types.ts（完全覆盖）\r\n        const typesContent = this.generateTypes(service);\r\n        writeFile(\r\n            path.join(serviceDir, `${service.name}.types.ts`),\r\n            typesContent\r\n        );\r\n\r\n        // 2. 生成 index.ts（完全覆盖）\r\n        const indexContent = this.generateIndex(service);\r\n        writeFile(\r\n            path.join(serviceDir, `${service.name}.index.ts`),\r\n            indexContent\r\n        );\r\n\r\n        // 3. 初始化用户扩展文件（仅创建，不覆盖）\r\n        this.initializeCustomFile(service, serviceDir);\r\n    }\r\n\r\n    /**\r\n     * 生成 types.ts 内容\r\n     */\r\n    private generateTypes(service: Service): string {\r\n        const parts: string[] = [];\r\n\r\n        // 文件头部警告\r\n        parts.push(generateHeader());\r\n\r\n        // 生成 Enums\r\n        for (const enumDef of service.enums) {\r\n            // 生成 Enum - 内联实现\r\n            const enumParts: string[] = [];\r\n            if (enumDef.leadingComments) {\r\n                enumParts.push(formatComment(enumDef.leadingComments));\r\n            }\r\n            enumParts.push(`export enum ${enumDef.name} {`);\r\n            for (const item of enumDef.enumItems) {\r\n                if (item.leadingComments) {\r\n                    enumParts.push(`  ${formatComment(item.leadingComments, 2)}`);\r\n                }\r\n                enumParts.push(`  ${item.key} = ${item.value},`);\r\n            }\r\n            enumParts.push('}');\r\n            parts.push(enumParts.join('\\n'));\r\n        }\r\n\r\n        // 生成 Messages (Interfaces)\r\n        for (const message of service.message) {\r\n            // 生成 Message - 内联实现\r\n            const messageParts: string[] = [];\r\n            if (message.leadingComments) {\r\n                messageParts.push(formatComment(message.leadingComments));\r\n            }\r\n            messageParts.push(`export interface ${message.name} {`);\r\n            for (const field of message.fields) {\r\n                if (field.leadingComments) {\r\n                    messageParts.push(`  ${formatComment(field.leadingComments, 2)}`);\r\n                }\r\n                const fieldType = this.getFieldType(field);\r\n                messageParts.push(`  ${field.name}: ${fieldType};`);\r\n            }\r\n            messageParts.push('}');\r\n            parts.push(messageParts.join('\\n'));\r\n        }\r\n\r\n        return parts.join('\\n\\n');\r\n    }\r\n\r\n    /**\r\n     * 生成 index.ts 内容\r\n     */\r\n    private generateIndex(service: Service): string {\r\n        const parts: string[] = [];\r\n\r\n        parts.push(generateHeader());\r\n\r\n        // 导入类型\r\n        parts.push(`import * as Types from './${service.name}.types';`);\r\n        parts.push('');\r\n\r\n        // 导入 依赖 文件\r\n        this.config.output.imports?.forEach((importPath) => {\r\n            parts.push(importPath);\r\n        });\r\n\r\n        // 导出类型\r\n        parts.push(`export { Types };`);\r\n        parts.push('');\r\n\r\n        // 使用预先生成的函数直接生成内容\r\n        parts.push(this.generateServiceContent(service));\r\n\r\n        return parts.join('\\n');\r\n    }\r\n\r\n    /**\r\n     * 获取字段类型\r\n     */\r\n    private getFieldType(field: Field): string {\r\n        let baseType: string;\r\n\r\n        if (field.isMap) {\r\n            // Map 类型\r\n            const keyType = this.mapProtoTypeToTs(field.mapKey);\r\n            const valueType = this.mapProtoTypeToTs(field.mapValue);\r\n            baseType = `Record<${keyType}, ${valueType}>`;\r\n        } else if (field.typeName) {\r\n            // 自定义类型（Message 或 Enum）\r\n            baseType = field.typeName;\r\n        } else {\r\n            // 基础类型\r\n            baseType = this.mapProtoTypeToTs(field.type);\r\n        }\r\n\r\n        // 处理 repeated (数组)\r\n        if (field.isRepeated) {\r\n            return `${baseType}[]`;\r\n        }\r\n\r\n        return baseType;\r\n    }\r\n\r\n    /**\r\n     * Proto 类型到 TS 类型映射\r\n     */\r\n    private mapProtoTypeToTs(protoType: string): string {\r\n        const typeMap: Record<string, string> = {\r\n            'int32': 'number',\r\n            'int64': 'number',\r\n            'uint32': 'number',\r\n            'uint64': 'number',\r\n            'sint32': 'number',\r\n            'sint64': 'number',\r\n            'fixed32': 'number',\r\n            'fixed64': 'number',\r\n            'sfixed32': 'number',\r\n            'sfixed64': 'number',\r\n            'float': 'number',\r\n            'double': 'number',\r\n            'bool': 'boolean',\r\n            'string': 'string',\r\n            'bytes': 'Uint8Array',\r\n        };\r\n\r\n        return typeMap[protoType] || protoType;\r\n    }\r\n\r\n    /**\r\n     * 初始化用户自定义文件（仅在不存在时创建）\r\n     */\r\n    private initializeCustomFile(service: Service,serviceDir:string): void {\r\n        const customFilePath = path.join(serviceDir, `${service.name}.extensions.ts`);\r\n        // 只在文件不存在时创建\r\n        if (!fs.existsSync(customFilePath)) {\r\n            const templateFn = this.config.output.serviceTemplate?.extensionWrapper!;\r\n            const template = templateFn(service.name);\r\n            writeFile(customFilePath, template);\r\n        }\r\n    }\r\n}","import { runParser } from '../parser/runParser'\nimport type { Pb2tsConfig } from '../config/types'\nimport { ProtoToTsGenerator } from './service'\n\nexport async function generate(config: Pb2tsConfig) {\n    const services = await runParser(config)\n\n    console.log('Generating...')\n\n    console.log(services)\n\n    const generator = new ProtoToTsGenerator(config);\n\n    generator.generate(services);\n}"],"mappings":"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","names":["path","path","fs","fs","templateFn","path"]}